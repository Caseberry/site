var dp={sh:{Toolbar:{},Utils:{},RegexLib:{},Brushes:{},Strings:{AboutDialog:'<html><head><title>About...</title></head><body class="dp-about"><table cellspacing="0"><tr><td class="copy"><p class="title">dp.SyntaxHighlighter</div><div class="para">Version: {V}</p><p><a href="http://www.dreamprojections.com/syntaxhighlighter/?ref=about" target="_blank">http://www.dreamprojections.com/syntaxhighlighter</a></p>&copy;2004-2007 Alex Gorbatchev.</td></tr><tr><td class="footer"><input type="button" class="close" value="OK" onClick="window.close()"/></td></tr></table></body></html>'},ClipboardSwf:null,Version:"1.5.1"}};dp.SyntaxHighlighter=dp.sh,dp.sh.Toolbar.Commands={ExpandSource:{label:"+ expand source",check:function(e){return e.collapse},func:function(e,t){e.parentNode.removeChild(e),t.div.className=t.div.className.replace("collapsed","")}},ViewSource:{label:"\u2568\u042f\u2564\u0410\u2568\u255b\u2564\u0411\u2564\u0412\u2568\u255b\u2568\u2563 \u2564\u0412\u2568\u2561\u2568\u2551\u2564\u0411\u2564\u0412",func:function(e,t){var i=dp.sh.Utils.FixForBlogger(t.originalCode).replace(/</g,"&lt;"),n=window.open("","_blank","width=750, height=400, location=0, resizable=1, menubar=0, scrollbars=0");n.document.write('<textarea style="width:99%;height:99%">'+i+"</textarea>"),n.document.close()}},CopyToClipboard:{label:"\u2568\u042a\u2568\u255b\u2568\u2510\u2568\u2555\u2564\u0410\u2568\u255b\u2568\u2593\u2568\u2591\u2564\u0412\u2564\u041c \u2568\u2593 \u2568\u2592\u2564\u0413\u2564\u0414\u2568\u2561\u2564\u0410",check:function(){return null!=window.clipboardData||null!=dp.sh.ClipboardSwf},func:function(e,t){var i=dp.sh.Utils.FixForBlogger(t.originalCode).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");if(window.clipboardData)window.clipboardData.setData("text",i);else if(null!=dp.sh.ClipboardSwf){var n=t.flashCopier;null==n&&(n=document.createElement("div"),t.flashCopier=n,t.div.appendChild(n)),n.innerHTML='<embed src="'+dp.sh.ClipboardSwf+'" FlashVars="clipboard='+encodeURIComponent(i)+'" width="0" height="0" type="application/x-shockwave-flash"></embed>'}alert("The code is in your clipboard now")}},PrintSource:{label:"\u2568\u042f\u2568\u2561\u2564\u0417\u2568\u2591\u2564\u0412\u2564\u041c",func:function(e,t){var i=document.createElement("IFRAME"),n=null;i.style.cssText="position:absolute;width:0px;height:0px;left:-500px;top:-500px;",document.body.appendChild(i),n=i.contentWindow.document,dp.sh.Utils.CopyStyles(n,window.document),n.write('<div class="'+t.div.className.replace("collapsed","")+' printing">'+t.div.innerHTML+"</div>"),n.close(),i.contentWindow.focus(),i.contentWindow.print(),alert("Printing..."),document.body.removeChild(i)}},About:{label:"?",func:function(){var e=window.open("","_blank","dialog,width=300,height=150,scrollbars=0"),t=e.document;dp.sh.Utils.CopyStyles(t,window.document),t.write(dp.sh.Strings.AboutDialog.replace("{V}",dp.sh.Version)),t.close(),e.focus()}}},dp.sh.Toolbar.Create=function(e){var t=document.createElement("DIV");t.className="tools";for(var i in dp.sh.Toolbar.Commands){var n=dp.sh.Toolbar.Commands[i];(null==n.check||n.check(e))&&(t.innerHTML+='<a href="#" onclick="dp.sh.Toolbar.Command(\''+i+"',this);return false;\">"+n.label+"</a>")}return t},dp.sh.Toolbar.Command=function(e,t){for(var i=t;null!=i&&-1==i.className.indexOf("dp-highlighter");)i=i.parentNode;null!=i&&dp.sh.Toolbar.Commands[e].func(t,i.highlighter)},dp.sh.Utils.CopyStyles=function(e,t){for(var i=t.getElementsByTagName("link"),n=0;n<i.length;n++)"stylesheet"==i[n].rel.toLowerCase()&&e.write('<link type="text/css" rel="stylesheet" href="'+i[n].href+'"></link>')},dp.sh.Utils.FixForBlogger=function(e){return 1==dp.sh.isBloggerMode?e.replace(/<br\s*\/?>|&lt;br\s*\/?&gt;/gi,"\n"):e},dp.sh.RegexLib={MultiLineCComments:new RegExp("/\\*[\\s\\S]*?\\*/","gm"),SingleLineCComments:new RegExp("//.*$","gm"),SingleLinePerlComments:new RegExp("#.*$","gm"),DoubleQuotedString:new RegExp('"(?:\\.|(\\\\\\")|[^\\""\\n])*"',"g"),SingleQuotedString:new RegExp("'(?:\\.|(\\\\\\')|[^\\''\\n])*'","g")},dp.sh.Match=function(e,t,i){this.value=e,this.index=t,this.length=e.length,this.css=i},dp.sh.Highlighter=function(){this.noGutter=!1,this.addControls=!0,this.collapse=!1,this.tabsToSpaces=!0,this.wrapColumn=80,this.showColumns=!0},dp.sh.Highlighter.SortCallback=function(e,t){return e.index<t.index?-1:e.index>t.index?1:e.length<t.length?-1:e.length>t.length?1:0},dp.sh.Highlighter.prototype.CreateElement=function(e){var t=document.createElement(e);return t.highlighter=this,t},dp.sh.Highlighter.prototype.GetMatches=function(e,t){for(var i=null;null!=(i=e.exec(this.code));)this.matches[this.matches.length]=new dp.sh.Match(i[0],i.index,t)},dp.sh.Highlighter.prototype.AddBit=function(e,t){if(null!=e&&0!=e.length){var i=this.CreateElement("SPAN");if(e=e.replace(/ /g,"&nbsp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/\n/gm,"&nbsp;<br>"),null!=t)if(/br/gi.test(e))for(var n=e.split("&nbsp;<br>"),s=0;s<n.length;s++)i=this.CreateElement("SPAN"),i.className=t,i.innerHTML=n[s],this.div.appendChild(i),s+1<n.length&&this.div.appendChild(this.CreateElement("BR"));else i.className=t,i.innerHTML=e,this.div.appendChild(i);else i.innerHTML=e,this.div.appendChild(i)}},dp.sh.Highlighter.prototype.IsInside=function(e){if(null==e||0==e.length)return!1;for(var t=0;t<this.matches.length;t++){var i=this.matches[t];if(null!=i&&(e.index>i.index&&e.index<i.index+i.length))return!0}return!1},dp.sh.Highlighter.prototype.ProcessRegexList=function(){for(var e=0;e<this.regexList.length;e++)this.GetMatches(this.regexList[e].regex,this.regexList[e].css)},dp.sh.Highlighter.prototype.ProcessSmartTabs=function(e){function t(e,t,i){for(var n=e.substr(0,t),s=e.substr(t+1,e.length),l="",r=0;r<i;r++)l+=" ";return n+l+s}function i(e,i){if(-1==e.indexOf(r))return e;for(var n=0;-1!=(n=e.indexOf(r));){e=t(e,n,i-n%i)}return e}for(var n=e.split("\n"),s="",l=4,r="\t",h=0;h<n.length;h++)s+=i(n[h],l)+"\n";return s},dp.sh.Highlighter.prototype.SwitchToList=function(){var e=this.div.innerHTML.replace(/<(br)\/?>/gi,"\n"),t=e.split("\n");if(1==this.addControls&&this.bar.appendChild(dp.sh.Toolbar.Create(this)),this.showColumns){for(var i=this.CreateElement("div"),n=this.CreateElement("div"),s=10,l=1;l<=150;)l%s==0?(i.innerHTML+=l,l+=(l+"").length):(i.innerHTML+="&middot;",l++);n.className="columns",n.appendChild(i),this.bar.appendChild(n)}for(var l=0,r=this.firstLine;l<t.length-1;l++,r++){var h=this.CreateElement("LI"),a=this.CreateElement("SPAN");h.className=l%2==0?"alt":"",a.innerHTML=t[l]+"&nbsp;",h.appendChild(a),this.ol.appendChild(h)}this.div.innerHTML=""},dp.sh.Highlighter.prototype.Highlight=function(e){function t(e){return e.replace(/^\s*(.*?)[\s\n]*$/g,"$1")}function i(e){return e.replace(/\n*$/,"").replace(/^\n*/,"")}function n(e){for(var i=dp.sh.Utils.FixForBlogger(e).split("\n"),n=(new Array,new RegExp("^\\s*","g")),s=1e3,l=0;l<i.length&&s>0;l++)if(0!=t(i[l]).length){var r=n.exec(i[l]);null!=r&&r.length>0&&(s=Math.min(r[0].length,s))}if(s>0)for(var l=0;l<i.length;l++)i[l]=i[l].substr(s);return i.join("\n")}function s(e,t,i){return e.substr(t,i-t)}var l=0;if(null==e&&(e=""),this.originalCode=e,this.code=i(n(e)),this.div=this.CreateElement("DIV"),this.bar=this.CreateElement("DIV"),this.ol=this.CreateElement("OL"),this.matches=new Array,this.div.className="dp-highlighter",this.div.highlighter=this,this.bar.className="bar",this.ol.start=this.firstLine,null!=this.CssClass&&(this.ol.className=this.CssClass),this.collapse&&(this.div.className+=" collapsed"),this.noGutter&&(this.div.className+=" nogutter"),1==this.tabsToSpaces&&(this.code=this.ProcessSmartTabs(this.code)),this.ProcessRegexList(),0==this.matches.length)return this.AddBit(this.code,null),this.SwitchToList(),this.div.appendChild(this.bar),void this.div.appendChild(this.ol);this.matches=this.matches.sort(dp.sh.Highlighter.SortCallback);for(var r=0;r<this.matches.length;r++)this.IsInside(this.matches[r])&&(this.matches[r]=null);for(var r=0;r<this.matches.length;r++){var h=this.matches[r];null!=h&&0!=h.length&&(this.AddBit(s(this.code,l,h.index),null),this.AddBit(h.value,h.css),l=h.index+h.length)}this.AddBit(this.code.substr(l),null),this.SwitchToList(),this.div.appendChild(this.bar),this.div.appendChild(this.ol)},dp.sh.Highlighter.prototype.GetKeywords=function(e){return"\\b"+e.replace(/ /g,"\\b|\\b")+"\\b"},dp.sh.BloggerMode=function(){dp.sh.isBloggerMode=!0},dp.sh.HighlightAll=function(e,t,i,n,s,l){function r(){for(var e=arguments,t=0;t<e.length;t++)if(null!=e[t]){if("string"==typeof e[t]&&""!=e[t])return e[t]+"";if("object"==typeof e[t]&&""!=e[t].value)return e[t].value+""}return null}function h(e,t){for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1}function a(e,t,i){for(var n=new RegExp("^"+e+"\\[(\\w+)\\]$","gi"),s=null,l=0;l<t.length;l++)if(null!=(s=n.exec(t[l])))return s[1];return i}function o(e,t,i){for(var n=document.getElementsByTagName(i),s=0;s<n.length;s++)n[s].getAttribute("name")==t&&e.push(n[s])}var d=[],c=null,p={};if(o(d,e,"pre"),o(d,e,"textarea"),0!=d.length){for(var u in dp.sh.Brushes){var g=dp.sh.Brushes[u].Aliases;if(null!=g)for(var f=0;f<g.length;f++)p[g[f]]=u}for(var f=0;f<d.length;f++){var m=d[f],b=r(m.attributes["class"],m.className,m.attributes.language,m.language),v="";if(null!=b&&(b=b.split(":"),v=b[0].toLowerCase(),null!=p[v])){c=new dp.sh.Brushes[p[v]],m.style.display="none",c.noGutter=null==t?h("nogutter",b):!t,c.addControls=null==i?!h("nocontrols",b):i,c.collapse=null==n?h("collapse",b):n,c.showColumns=null==l?h("showcolumns",b):l;var C=document.getElementsByTagName("head")[0];if(c.Style&&C){var w=document.createElement("style");if(w.setAttribute("type","text/css"),w.styleSheet)w.styleSheet.cssText=c.Style;else{var x=document.createTextNode(c.Style);w.appendChild(x)}C.appendChild(w)}c.firstLine=null==s?parseInt(a("firstline",b,1)):s,c.Highlight(m.innerHTML),c.source=m,m.parentNode.insertBefore(c.div,m)}}}};